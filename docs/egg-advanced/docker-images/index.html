<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-egg-advanced/docker-images" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Creating your own Docker Images | Pterodactyl Egg Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ptero-egg-docs.github.io/eggdocs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ptero-egg-docs.github.io/eggdocs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ptero-egg-docs.github.io/eggdocs/docs/egg-advanced/docker-images"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating your own Docker Images | Pterodactyl Egg Docs"><meta data-rh="true" name="description" content="All Pterodactyl containers must have a user named container, and the user home must be /home/container"><meta data-rh="true" property="og:description" content="All Pterodactyl containers must have a user named container, and the user home must be /home/container"><link data-rh="true" rel="icon" href="/eggdocs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ptero-egg-docs.github.io/eggdocs/docs/egg-advanced/docker-images"><link data-rh="true" rel="alternate" href="https://ptero-egg-docs.github.io/eggdocs/docs/egg-advanced/docker-images" hreflang="en"><link data-rh="true" rel="alternate" href="https://ptero-egg-docs.github.io/eggdocs/docs/egg-advanced/docker-images" hreflang="x-default"><link rel="stylesheet" href="/eggdocs/assets/css/styles.dcdf927b.css">
<script src="/eggdocs/assets/js/runtime~main.3d70da58.js" defer="defer"></script>
<script src="/eggdocs/assets/js/main.1d28684f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/eggdocs/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/eggdocs/"><div class="navbar__logo"><img src="/eggdocs/img/logo.png" alt="Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/eggdocs/img/logo.png" alt="Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ptero Egg Docs</b></a><a class="navbar__item navbar__link" href="/eggdocs/docs/getting-started">Getting Started</a><a class="navbar__item navbar__link" href="/eggdocs/docs/egg-basics/nests-page">Egg Basics</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/eggdocs/docs/egg-advanced/config-parser">Egg Advanced</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Ptero-Egg-Docs/eggdocs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eggdocs/docs/egg-advanced/config-parser">Config Parser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/eggdocs/docs/egg-advanced/docker-image-info">Overview of Yolks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/eggdocs/docs/egg-advanced/docker-images">Creating your own Docker Images</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/eggdocs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Creating your own Docker Images</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Creating your own Docker Images</h1></header>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>All Pterodactyl containers must have a user named <code>container</code>, and the user home must be <code>/home/container</code></p></div></div>
<p>This guide explains how to create a custom Docker image for use with Pterodactyl eggs, using a modern base example from the <a href="https://github.com/Ptero-Eggs/yolks/tree/main" target="_blank" rel="noopener noreferrer">Ptero-Eggs yolks repository</a>.</p>
<p>Docker images define the environment in which a server runs—what software is installed, what versions are used, and how everything is launched. Custom images allow you to add packages or modify behavior beyond what official yolks provide.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="dockerfile-example">Dockerfile Example<a href="#dockerfile-example" class="hash-link" aria-label="Direct link to Dockerfile Example" title="Direct link to Dockerfile Example">​</a></h2>
<p>Here’s a full Dockerfile example using Java 21 as the base image:</p>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM --platform=$TARGETOS/$TARGETARCH eclipse-temurin:21-jdk-jammy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LABEL author=&quot;Michael Parker&quot; maintainer=&quot;[email protected]&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LABEL org.opencontainers.image.source=&quot;https://github.com/pterodactyl/yolks&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LABEL org.opencontainers.image.licenses=MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt update -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &amp;&amp; apt install -y \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    curl \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lsof \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ca-certificates \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    openssl \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    git \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tar \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sqlite3 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fontconfig \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tzdata \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    iproute2 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    libfreetype6 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tini \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zip \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    unzip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN useradd -m -d /home/container -s /bin/bash container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">USER container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV USER=container HOME=/home/container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /home/container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">COPY --chown=container:container ./entrypoint.sh /entrypoint.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN chmod +x /entrypoint.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT [&quot;/usr/bin/tini&quot;, &quot;-g&quot;, &quot;--&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;/entrypoint.sh&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="breakdown-of-the-dockerfile">Breakdown of the Dockerfile<a href="#breakdown-of-the-dockerfile" class="hash-link" aria-label="Direct link to Breakdown of the Dockerfile" title="Direct link to Breakdown of the Dockerfile">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="base-image">Base Image<a href="#base-image" class="hash-link" aria-label="Direct link to Base Image" title="Direct link to Base Image">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">FROM --platform=$TARGETOS/$TARGETARCH eclipse-temurin:21-jdk-jammy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Uses Eclipse Temurin Java 21 JDK on Ubuntu Jammy. The <code>--platform</code> flag ensures compatibility with different system architectures.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="metadata-labels">Metadata Labels<a href="#metadata-labels" class="hash-link" aria-label="Direct link to Metadata Labels" title="Direct link to Metadata Labels">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LABEL author=&quot;...&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Provides metadata such as author, source, and license. Useful for documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependencies">Dependencies<a href="#dependencies" class="hash-link" aria-label="Direct link to Dependencies" title="Direct link to Dependencies">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RUN apt update -y &amp;&amp; apt install -y [...]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Installs useful server packages:</p>
<ul>
<li><code>curl</code>, <code>lsof</code>, <code>openssl</code>: Common CLI tools.</li>
<li><code>fontconfig</code>, <code>libfreetype6</code>: Support Java-based GUI rendering.</li>
<li><code>tini</code>: Handles signal forwarding and zombie reaping.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-setup">User Setup<a href="#user-setup" class="hash-link" aria-label="Direct link to User Setup" title="Direct link to User Setup">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">RUN useradd -m -d /home/container -s /bin/bash container</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Creates a non-root user <code>container</code> to enhance security.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="switch-user--set-environment">Switch User &amp; Set Environment<a href="#switch-user--set-environment" class="hash-link" aria-label="Direct link to Switch User &amp; Set Environment" title="Direct link to Switch User &amp; Set Environment">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">USER container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ENV USER=container HOME=/home/container</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Switches to the new user and sets key environment variables.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="working-directory">Working Directory<a href="#working-directory" class="hash-link" aria-label="Direct link to Working Directory" title="Direct link to Working Directory">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">WORKDIR /home/container</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Sets the default working directory.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entrypoint-setup">Entrypoint Setup<a href="#entrypoint-setup" class="hash-link" aria-label="Direct link to Entrypoint Setup" title="Direct link to Entrypoint Setup">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">COPY --chown=container:container ./entrypoint.sh /entrypoint.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUN chmod +x /entrypoint.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Copies the startup script and ensures it’s executable.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entry-command">Entry Command<a href="#entry-command" class="hash-link" aria-label="Direct link to Entry Command" title="Direct link to Entry Command">​</a></h3>
<div class="language-dockerfile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-dockerfile codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT [&quot;/usr/bin/tini&quot;, &quot;-g&quot;, &quot;--&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CMD [&quot;/entrypoint.sh&quot;]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Uses <code>tini</code> to launch the container and execute the custom startup script.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-entrypointsh">Example entrypoint.sh<a href="#example-entrypointsh" class="hash-link" aria-label="Direct link to Example entrypoint.sh" title="Direct link to Example entrypoint.sh">​</a></h2>
<p>In order to complete this Dockerfile, we will need an entrypoint.sh file which tells Docker how to run this specific server type.</p>
<p>These entrypoint files are actually fairly abstracted, and the Daemon will pass in the start command as an environment variable before processing it and then executing the command.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="this-script-pairs-with-the-dockerfile-above">This script pairs with the Dockerfile above:<a href="#this-script-pairs-with-the-dockerfile-above" class="hash-link" aria-label="Direct link to This script pairs with the Dockerfile above:" title="Direct link to This script pairs with the Dockerfile above:">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Default the TZ environment variable to UTC.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TZ=${TZ:-UTC}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export TZ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Set environment variable that holds the Internal Docker IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">INTERNAL_IP=$(ip route get 1 | awk &#x27;{print $(NF-2);exit}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export INTERNAL_IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Switch to the container&#x27;s working directory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd /home/container || exit 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Print Java version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;\033[1m\033[33mcontainer@pterodactyl~ \033[0mjava -version\n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">java -version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Convert all of the &quot;{{VARIABLE}}&quot; parts of the command into the expected shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># variable format of &quot;${VARIABLE}&quot; before evaluating the string and automatically</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># replacing the values.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PARSED=$(echo &quot;${STARTUP}&quot; | sed -e &#x27;s/{{/${/g&#x27; -e &#x27;s/}}/}/g&#x27; | eval echo &quot;$(cat -)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Display the command we&#x27;re running in the output, and then execute it with the env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># from the container itself.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">printf &quot;\033[1m\033[33mcontainer@pterodactyl~ \033[0m%s\n&quot; &quot;$PARSED&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># shellcheck disable=SC2086</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eval ${PARSED}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="breakdown">Breakdown<a href="#breakdown" class="hash-link" aria-label="Direct link to Breakdown" title="Direct link to Breakdown">​</a></h3>
<ul>
<li>Navigates to the working directory.</li>
<li>Outputs the Java version for confirmation.</li>
<li>Processes and expands the Pterodactyl <code>STARTUP</code> variable.</li>
<li>Executes the startup command.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="final-notes">Final Notes<a href="#final-notes" class="hash-link" aria-label="Direct link to Final Notes" title="Direct link to Final Notes">​</a></h2>
<ul>
<li>User home must be <code>/home/container</code></li>
<li>All Pterodactyl containers must have a user named <code>container</code></li>
<li>Always run as a <strong>non-root</strong> user in Pterodactyl containers.</li>
<li>Build and test locally with: <code>docker build -t my-image .</code></li>
<li>Push images to Docker Hub or private registry and specify them in the egg under Docker Image, or run the image locally first if you want to ensure it functions as expected</li>
</ul>
<p>Creating a custom Docker image lets you fully control the server for uncommon games or special dependencies.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Ptero-Egg-Docs/eggdocs/tree/master/docs/egg-advanced/docker-images.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/eggdocs/docs/egg-advanced/docker-image-info"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview of Yolks</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dockerfile-example" class="table-of-contents__link toc-highlight">Dockerfile Example</a></li><li><a href="#breakdown-of-the-dockerfile" class="table-of-contents__link toc-highlight">Breakdown of the Dockerfile</a><ul><li><a href="#base-image" class="table-of-contents__link toc-highlight">Base Image</a></li><li><a href="#metadata-labels" class="table-of-contents__link toc-highlight">Metadata Labels</a></li><li><a href="#dependencies" class="table-of-contents__link toc-highlight">Dependencies</a></li><li><a href="#user-setup" class="table-of-contents__link toc-highlight">User Setup</a></li><li><a href="#switch-user--set-environment" class="table-of-contents__link toc-highlight">Switch User &amp; Set Environment</a></li><li><a href="#working-directory" class="table-of-contents__link toc-highlight">Working Directory</a></li><li><a href="#entrypoint-setup" class="table-of-contents__link toc-highlight">Entrypoint Setup</a></li><li><a href="#entry-command" class="table-of-contents__link toc-highlight">Entry Command</a></li></ul></li><li><a href="#example-entrypointsh" class="table-of-contents__link toc-highlight">Example entrypoint.sh</a><ul><li><a href="#breakdown" class="table-of-contents__link toc-highlight">Breakdown</a></li></ul></li><li><a href="#final-notes" class="table-of-contents__link toc-highlight">Final Notes</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/eggdocs/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/eggdocs/docs/category/egg-basics">Egg Basics</a></li><li class="footer__item"><a class="footer__link-item" href="/eggdocs/docs/category/egg-advanced">Egg Advanced</a></li></ul></div><div class="col footer__col"><div class="footer__title">Other Pterodactyl Related Sites</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://pterodactyl.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Pterodactyl Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://pterodactyleggs.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Egg Repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/pterodactyl" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Project Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Main Contributors</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Red-Banana-Official" target="_blank" rel="noopener noreferrer" class="footer__link-item">Red-Banana-Official<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/itzMiney" target="_blank" rel="noopener noreferrer" class="footer__link-item">itzMiney<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Ptero Egg Docs and Contributors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>